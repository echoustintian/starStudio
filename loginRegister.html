<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login And Register</title>
  <link href="./css/login.css" rel="stylesheet" type="text/css"/>
</head>
<body>
  <div class="container">
    <div class="head">登陆</div>
    <form action="" class="login form" name="login_form">
      <input type="text" placeholder="请输入账号" class="input" name="username">
      <input type="password" placeholder="请输入密码" class="input" name="password">
      <div class="option">
        <div class="forget">忘记密码</div>
        <div class="register">注册</div>
      </div>
      <!-- <input type="submit" class="submit" name="Go"> -->
      
    </form>
    <button class="submit" id="login">Go</button>
    <div class="footer">
    </div>
  </div>

  <div class="container container_active">
    <div class="head">注册</div>
    <form action="" class="register form"  name="register_form">
      <input type="text" placeholder="请输入账号" class="input" name="username">
      <input type="password" placeholder="请输入密码" class="input" name="password">
      <input type="password" placeholder="请确认密码" class="input" name="re_password">
      <!-- <input type="submit" class="submit" value="Submit"> -->
      
    </form>
    <button class="submit" id="register">Submit</button>
    <div class="footer">
    </div>
  </div>
  <script>
    // 登入盒子
    const loginContainer = document.getElementsByClassName("container")[0];
    // 注册盒子
    const registerContainer = document.getElementsByClassName("container")[1];
    // 注册
    const registerBtn = document.getElementsByClassName("register")[0];
    registerBtn.addEventListener("click",()=>{
      loginContainer.style.opacity = 0
      loginContainer.style.width = "0px"
      loginContainer.style.height = "0px"
      setTimeout(()=>{
        loginContainer.setAttribute("class","container_active");
        registerContainer.setAttribute("class","container");
      },2500)
    })
    // 注册提交
    console.log();
    const registerSubmit = document.getElementById("register");
    registerSubmit.addEventListener("click",()=>{
      // 注册判断
      if (register_form.re_password.value != register_form.password.value){
        alert("两次密码不一致")
      }else if(register_form.password.value.length < 6){
        alert("密码长度过短")
      }else if(localStorage.getItem(register_form.username.value) != null){
        alert("用户名已存在")
      }else{
        localStorage.setItem(register_form.username.value,register_form.password.value)
        confirm("注册成功")
        location.reload()
      }
    })
    // 登入提交
    const loginSubmit = document.getElementById("login");
    loginSubmit.addEventListener("click",()=>{
      if (localStorage.getItem(login_form.username.value) == null){
        alert("用户名不存在")
      }else if(localStorage.getItem(login_form.username.value) != login_form.password.value){
        alert("密码错误")
      }else{
        location.replace("./personalIntroduction.html")
        
      }
    })

  </script>
</body>
</html>